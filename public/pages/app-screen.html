<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto The Sims - Comportamentos</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/framework.css">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body>
    <main class="flex items-center justify-center w-full h-full flex-col text-center">
        <header class="bg-transparent w-full h-[10dvh] flex items-center justify-between px-6">
            <div class="logo">
                <p class="text-white text-lg">
                    Plataforma <span>Análise de Comportamentos</span>
                </p>
            </div>
            <div class="header--items"></div>
        </header>

        <div class="container app relative"
            style="width: 100%; height: 80vh; background: rgba(255, 255, 255, 0.05); border-radius: 12px; margin: 0 20px;">
            <canvas id="canvas"></canvas>
            <div id="board"></div>
        </div>

        <footer class="bg-transparent w-full h-[10dvh] flex items-center justify-center">
            <p class="text-white text-sm">Criado com amor e cafeína por autor</p>
        </footer>
    </main>

    <!-- CONTROLES PRINCIPAIS -->
    <div class="controls">
        <button class="btn" onclick="openAddModal()">+ Adicionar Item</button>
        <button class="btn" onclick="clearConnections()">Limpar Conexões</button>
    </div>

    <!-- CONTROLES DE ZOOM -->
    <div class="zoom-controls">
        <button class="zoom-btn" onclick="zoomIn()" title="Zoom In">+</button>
        <button class="zoom-btn" onclick="resetZoom()" title="Reset Zoom">100%</button>
        <button class="zoom-btn" onclick="zoomOut()" title="Zoom Out">−</button>
    </div>

    <!-- PAINEL DE INSTRUÇÕES UNIFICADO -->
    <div class="info-panel">
        <h4>Instruções:</h4>
        <ul>
            <li>Adicione novos itens</li>
            <li>Arraste para mover</li>
            <li>Clique em "Conectar" em dois itens</li>
            <li>Escolha o tipo de conexão</li>
            <li><strong>Clique na linha</strong> para remover conexão</li>
            <li>Delete itens indesejados</li>
            <li><strong>Scroll do mouse</strong> para zoom</li>
            <li><strong>Shift + Arrastar</strong> para mover a tela</li>
        </ul>
    </div>

    <!-- MODAL: ADICIONAR ITEM -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <h3>Adicionar Novo Item</h3>
            <input type="text" id="itemName" placeholder="Nome do item..." />
            <div class="modal-actions">
                <button class="btn btn-cancel" onclick="closeAddModal()">Cancelar</button>
                <button class="btn" onclick="addItem()">Adicionar</button>
            </div>
        </div>
    </div>

    <!-- MODAL: TIPO DE CONEXÃO -->
    <div id="connectionTypeModal" class="modal">
        <div class="modal-content">
            <h3>Selecione o Tipo de Conexão</h3>

            <div class="connection-types-grid">
                <button class="connection-type-btn positive-reinforcement"
                        onclick="selectConnectionType('positive_reinforcement')">
                    Reforço Positivo
                </button>

                <button class="connection-type-btn negative-reinforcement"
                        onclick="selectConnectionType('negative_reinforcement')">
                    Reforço Negativo
                </button>

                <button class="connection-type-btn positive-punishment"
                        onclick="selectConnectionType('positive_punishment')">
                    Punição Positiva
                </button>

                <button class="connection-type-btn negative-punishment"
                        onclick="selectConnectionType('negative_punishment')">
                    Punição Negativa
                </button>

                <button class="connection-type-btn other"
                        onclick="selectConnectionType('other')">
                    Outro
                </button>
            </div>

            <div id="customNameSection">
                <input type="text" id="customConnectionName" placeholder="Nome da conexão personalizada..." />
                <div class="modal-actions">
                    <button class="btn btn-cancel" onclick="closeConnectionTypeModal()">Cancelar</button>
                    <button class="btn" onclick="confirmCustomConnection()">Confirmar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/app.js"></script>
</body>
</html>
